import{r as a,j as d,R as I}from"./iframe-CD6aicnh.js";import{b as $,u as z,t as A,c as P,T as E}from"./ThemeSwitcher-d6Kz93Qj.js";import"./preload-helper-By1u-41e.js";function H(e,r,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e?.(o),t===!1||!o.defaultPrevented)return r?.(o)}}function U(e,r=[]){let t=[];function c(i,s){const n=a.createContext(s),l=t.length;t=[...t,s];const h=f=>{const{scope:p,children:m,...v}=f,w=p?.[e]?.[l]||n,S=a.useMemo(()=>v,Object.values(v));return d.jsx(w.Provider,{value:S,children:m})};h.displayName=i+"Provider";function u(f,p){const m=p?.[e]?.[l]||n,v=a.useContext(m);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[h,u]}const o=()=>{const i=t.map(s=>a.createContext(s));return function(n){const l=n?.[e]||i;return a.useMemo(()=>({[`__scope${e}`]:{...n,[e]:l}}),[n,l])}};return o.scopeName=e,[c,V(o,...r)]}function V(...e){const r=e[0];if(e.length===1)return r;const t=()=>{const c=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=c.reduce((n,{useScope:l,scopeName:h})=>{const f=l(i)[`__scope${h}`];return{...n,...f}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return t.scopeName=r.scopeName,t}var R=globalThis?.document?a.useLayoutEffect:()=>{},q=I[" useInsertionEffect ".trim().toString()]||R;function L({prop:e,defaultProp:r,onChange:t=()=>{},caller:c}){const[o,i,s]=W({defaultProp:r,onChange:t}),n=e!==void 0,l=n?e:o;{const u=a.useRef(e!==void 0);a.useEffect(()=>{const f=u.current;f!==n&&console.warn(`${c} is changing from ${f?"controlled":"uncontrolled"} to ${n?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=n},[n,c])}const h=a.useCallback(u=>{if(n){const f=F(u)?u(e):u;f!==e&&s.current?.(f)}else i(u)},[n,e,i,s]);return[l,h]}function W({defaultProp:e,onChange:r}){const[t,c]=a.useState(e),o=a.useRef(t),i=a.useRef(r);return q(()=>{i.current=r},[r]),a.useEffect(()=>{o.current!==t&&(i.current?.(t),o.current=t)},[t,o]),[t,c,i]}function F(e){return typeof e=="function"}function K(e){const r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}function X(e){const[r,t]=a.useState(void 0);return R(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const c=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,n;if("borderBoxSize"in i){const l=i.borderBoxSize,h=Array.isArray(l)?l[0]:l;s=h.inlineSize,n=h.blockSize}else s=e.offsetWidth,n=e.offsetHeight;t({width:s,height:n})});return c.observe(e,{box:"border-box"}),()=>c.unobserve(e)}else t(void 0)},[e]),r}var Y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T=Y.reduce((e,r)=>{const t=$(`Primitive.${r}`),c=a.forwardRef((o,i)=>{const{asChild:s,...n}=o,l=s?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...n,ref:i})});return c.displayName=`Primitive.${r}`,{...e,[r]:c}},{}),y="Switch",[G,ie]=U(y),[J,Q]=G(y),_=a.forwardRef((e,r)=>{const{__scopeSwitch:t,name:c,checked:o,defaultChecked:i,required:s,disabled:n,value:l="on",onCheckedChange:h,form:u,...f}=e,[p,m]=a.useState(null),v=z(r,x=>m(x)),w=a.useRef(!1),S=p?u||!!p.closest("form"):!0,[g,B]=L({prop:o,defaultProp:i??!1,onChange:h,caller:y});return d.jsxs(J,{scope:t,checked:g,disabled:n,children:[d.jsx(T.button,{type:"button",role:"switch","aria-checked":g,"aria-required":s,"data-state":M(g),"data-disabled":n?"":void 0,disabled:n,value:l,...f,ref:v,onClick:H(e.onClick,x=>{B(D=>!D),S&&(w.current=x.isPropagationStopped(),w.current||x.stopPropagation())})}),S&&d.jsx(O,{control:p,bubbles:!w.current,name:c,value:l,checked:g,required:s,disabled:n,form:u,style:{transform:"translateX(-100%)"}})]})});_.displayName=y;var j="SwitchThumb",N=a.forwardRef((e,r)=>{const{__scopeSwitch:t,...c}=e,o=Q(j,t);return d.jsx(T.span,{"data-state":M(o.checked),"data-disabled":o.disabled?"":void 0,...c,ref:r})});N.displayName=j;var Z="SwitchBubbleInput",O=a.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:c=!0,...o},i)=>{const s=a.useRef(null),n=z(s,i),l=K(t),h=X(r);return a.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&m){const v=new Event("click",{bubbles:c});m.call(u,t),u.dispatchEvent(v)}},[l,t,c]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:n,style:{...o.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});O.displayName=Z;function M(e){return e?"checked":"unchecked"}var ee=_,te=N;/**
 * @author: @devtoti
 * @description: Switch
 * @version: 1.0.0
 * @license: MIT
 * @date: 2025-09-07
 * @website: https://devtoti.com
 * @github: https://github.com/devtoti/archui-lib
 */const re=P("relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-arch-rd-sm border-2 border-transparent transition-colors duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-arch-surface-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue-500 data-[state=unchecked]:bg-gray-400",{variants:{variant:{default:"data-[state=checked]:bg-blue-500",accent:"data-[state=checked]:bg-arch-surface-accent",disabled:"bg-arch-sunken-3 cursor-not-allowed opacity-60 pointer-events-none"},size:{sm:"h-5 w-9",md:"h-6 w-11",lg:"h-7 w-14"}},defaultVariants:{variant:"default",size:"md"}}),oe=P("pointer-events-none block rounded-arch-rd-sm bg-white shadow-lg ring-0 transition-transform duration-200 ease-in-out data-[state=unchecked]:translate-x-0.5",{variants:{size:{sm:"h-4 w-4 data-[state=checked]:translate-x-[16px]",md:"h-5 w-5 data-[state=checked]:translate-x-[20px]",lg:"h-6 w-6 data-[state=checked]:translate-x-[28px]"}},defaultVariants:{size:"md"}}),b=({className:e,variant:r,size:t,disabled:c,...o})=>{const i=r==="disabled"||c;return d.jsx(ee,{className:A(re({variant:r,size:t}),e),disabled:i,...o,children:d.jsx(te,{className:oe({size:t})})})};b.__docgenInfo={description:"",methods:[],displayName:"Switch",props:{variant:{required:!1,tsType:{name:"union",raw:'"default" | "accent" | "disabled"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"accent"'},{name:"literal",value:'"disabled"'}]},description:"Visual variant of the switch"},size:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}]},description:"Size of the switch"},label:{required:!1,tsType:{name:"string"},description:"Custom label for the switch (optional)"}},composes:["ComponentPropsWithoutRef"]};const{fn:ne}=__STORYBOOK_MODULE_TEST__,le={title:"01 COMPONENTS/Switch",component:b,tags:["autodocs"],parameters:{layout:"centered",docs:{subtitle:"Toggle control with accessible design, keyboard support, and multiple size options.",description:{component:"The `Switch` component is built on Radix UI primitives and provides a fully accessible toggle control. It supports multiple sizes and variants, and can be used with or without a label. The component automatically handles focus states and keyboard interactions."},artwork:"/icons/models/switch.svg"}},argTypes:{variant:{control:"select",options:["default","accent","disabled"],description:"Visual variant of the switch"},size:{control:"select",options:["sm","md","lg"],description:"Size variant"},checked:{control:"boolean",description:"Controlled checked state"},defaultChecked:{control:"boolean",description:"Default checked state (uncontrolled)"},disabled:{control:"boolean",description:"Disable the switch"}},args:{onCheckedChange:ne(),variant:"default",size:"md",defaultChecked:!0}},C={render:e=>d.jsx(E,{theme:"ionic",children:d.jsx(b,{...e})})},k={render:e=>d.jsx(E,{theme:"doric",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(b,{...e,variant:"default",size:"sm"}),d.jsx(b,{...e,variant:"accent",size:"md"}),d.jsx(b,{...e,variant:"disabled",size:"lg"})]})})};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`{
  render: args => {
    return <ThemeSwitcher theme="ionic">
        <Switch {...args} />
      </ThemeSwitcher>;
  }
}`,...C.parameters?.docs?.source}}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:`{
  render: args => {
    return <ThemeSwitcher theme="doric">
        <div className="flex flex-col gap-4">
          <Switch {...args} variant="default" size="sm" />
          <Switch {...args} variant="accent" size="md" />
          <Switch {...args} variant="disabled" size="lg" />
        </div>
      </ThemeSwitcher>;
  }
}`,...k.parameters?.docs?.source}}};const ue=["Default","DocsPreview"];export{C as Default,k as DocsPreview,ue as __namedExportsOrder,le as default};
